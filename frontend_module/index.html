<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
        <script src="courseSearch_app.js"></script>

        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="styles.css"></link>

        <title>Course Search Application</title>
    </head>
    <body>
        <div class="container-fluid heading-container">
            <h1 style="text-align: center; text-decoration: underline;"><strong>Course Search</strong></h1>
            <h4 style="text-align: center;">Below you will find multiple filters. <br> Please fill out a filter in order to search for courses.</h4>
        </div>

        <div class="container filter-form-container">
            <form onsubmit="return false;" id="filter-form">
                <div id="filter-container">
                    <div id="filter-content">
                        <label for="code-filter">Filter Through Course Code:</label><br>
                        <input id="code-filter" name="code-filter" type="text" value="" placeholder="Enter Course Code Here">
                        <input id="show-results-btn" onclick="updateView(this)" type="button" value="Search" data-filter="by_course_code">
                    </div>
                </div>
                <div id="filter-container">
                    <div id="filter-content">
                        <label for="title-filter">Filter Through Course Title:</label><br>
                        <input id="title-filter" name="title-filter" type="text" value="" placeholder="Enter Course Title Here">
                        <input id="show-results-btn" onclick="updateView(this)" type="button" value="Search" data-filter="by_title">
                    </div>
                </div>
                <div id="filter-container">
                    <div id="filter-content">
                        <label for="level-filter">Filter Through Course Level(Choose one):</label><br>
                        <select id="level-filter" name="level-filter">
                            <option value="undergraduate">Undergraduate</option>
                            <option value="graduate">Graduate</option>
                        </select>
                        <input id="show-results-btn" onclick="updateView(this)" type="button" value="Search" data-filter="by_level">
                    </div>
                </div>
                <div id="filter-container">
                    <div id="filter-content">
                        <label for="name-filter">Filter Through Course Instructor:</label><br>
                        <input id="name-filter" name="name-filter" type="text" value="" placeholder="Enter Instructor Name">
                        <input id="show-results-btn" onclick="updateView(this)" type="button" value="Search" data-filter="by_instructor">
                    </div>
                </div>
                <div id="filter-container">
                    <label for="combined-filter">Filter Through Course Instructor AND Level:</label><br>
                    <input id="combined-name-filter" name="combined-filter" type="text" value="" placeholder="Enter Instructor Name">
                    <select id="combined-level-filter" name="combined-filter">
                        <option value="undergraduate">Undergraduate</option>
                        <option value="graduate">Graduate</option>
                    </select>
                    <input id="show-results-btn" onclick="updateView(this)" type="button" value="Search" data-filter="combined_query">
                </div>               
            </form>
        </div>

        <div id="results">

        </div>

        <script id="results_view" type="text/x-handlebars-template">
            <div class="container-fluid course-results-container">
                <table id="search-results">
                    <tr>
                        <th>Course Code</th>
                        <th>Title</th>
                        <th>Instructor</th>
                        <th>Level</th>
                    </tr>
                    {{#each courses}}
                    <tr>
                        <td>{{this.course_code}}</td>
                        <td>{{this.title}}</td>
                        <td>{{this.instructor}}</td>
                        <td>{{this.course_level}}</td>
                    </tr>
                    {{/each}}
                </table>
            </div>
        </script>
    </body>
</html>